{% extends 'home.html' %}
{% load static %}
{% block injected_css %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}


{% block main_content %}

<!-- Encabezado de categoría -->
<div class="d-flex justify-content-center align-items-center mb-4 gap-3">
  

  {% if current_category %}
  <form method="get" action="{% url 'votaciones' code=active_group.code %}">
    <input type="hidden" name="categoria" value="{{ prev_category }}">
    <button type="submit" class="btn btn-dark">&lt;</button>
  </form>
  <h3 class="mb-0 mx-3"> {{ current_category.name }}</h3>
  <form method="get" action="{% url 'votaciones' code=active_group.code %}">
    <input type="hidden" name="categoria" value="{{ next_category }}">
    <button type="submit" class="btn btn-dark">&gt;</button>
  </form>
  {% else %}
          <div class="card text-center w-100 py-3">
  <div class="card-header py-3 card-title">
    <h5 class="card-title">Sin categorías</h5>
  </div>
  <div class="card-body py-5">
    <div class="card custom-card text-center mx-auto my-4 w-100" style="max-width: 24rem;">
      <div class="card-body d-flex flex-column justify-content-center align-items-center h-100">
        <img
          src="https://png.pngtree.com/png-clipart/20230315/ourmid/pngtree-dog-cute-animal-realistic-png-image_6646934.png"
          alt="Sin categorías"
          class="img-fluid mb-4"
          style="max-height: 250px; object-fit: contain;">
        <p class="card-text px-3">No se encontraron categorías disponibles en este grupo.</p>
      </div>
    </div>
  </div>
</div>
  {% endif %}

</div>


<!-- Tarjetas -->
{% if current_category %}
<div class="py-5">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3">
    {% for student in students %}
    <div class="col">
      {% include 'common/vote.html' %}
    </div>
    {% empty %}
    <div class="card text-center w-100 py-3">
  <div class="card-header py-3 card-title">
    <h5 class="card-title">Sin resultados</h5>
  </div>
  <div class="card-body py-5">
    <div class="card custom-card text-center mx-auto my-4 w-100" style="max-width: 24rem;">
      <div class="card-body d-flex flex-column justify-content-center align-items-center h-100">
        <img
          src="https://th.bing.com/th/id/R.cc3e50924c4824abffff1cb2523c3e83?rik=iAhQ1lI4WnMywg&pid=ImgRaw&r=0"
          alt="Sin resultados"
          class="img-fluid mb-4"
          style="max-height: 250px; object-fit: contain;">
        <p class="card-text px-3">No se encontraron estudiantes.</p>
      </div>
    </div>
  </div>
</div>


        
    {% endfor %}
  </div>
</div>
{% endif %}
{% endblock %}
